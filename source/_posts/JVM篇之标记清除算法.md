---
title: JVM篇之标记清除算法
date: 2020-12-30 17:19:13
categories: JVM
tags: 垃圾回收算法
---

##  标记清除算法

### 背景

标记-清除算法（Mark-Sweep）是一种非常基础和常见的垃圾收集算法，该算法被J.McCarthy等人在1960年提出并应用于Lisp语言。

### 执行过程

当堆中的有效内存空间（available memory）被耗尽的时候，就会停止整个程序（也被称为Stop The World），然后进行两项工作，第一项是标记，第二项则是清除。

- 标记：从引用根节点开始遍历，标记所有被引用对象。一般是在对象Header中记录为可达对象。
- 清除：对堆内内存从头到尾进行线性的遍历，如果发现某个对象在其Header中没有标记可达对象，则其将回收。

##  内存图示

<img src="https://img-blog.csdnimg.cn/20200729093822729.png" alt="img" style="zoom:80%;" />

##  缺点

- 内存碎片化严重
- 效率不高